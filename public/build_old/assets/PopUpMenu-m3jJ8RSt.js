import{Q as I,l as v,o as d,f as m,b as e,u as n,e as b,a as s,c as A,g as M,n as B,t as S,T as F,w as _,d as $,k as y,B as J,A as W,z as X,p as z,q as T,j as Y,E as Z,h as ee,F as P,y as N,G as te,D as se}from"./app-DHQYfRVv.js";import{d as ae,u as oe}from"./PopUpMenu.vue_vue_type_style_index_0_scoped_500f605e_lang-BYLRUEG6.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as x,a as k,b as D}from"./TextInput-C-R2MJMg.js";import{P as j}from"./PrimaryButton-DK6nsFC-.js";import{D as O,a as re,_ as ne}from"./SecondaryButton-CLv16ZDj.js";const le={class:"w-full"},ce={class:"flex"},ie={class:"mb-4 mx-auto self-center"},de={key:0,class:"user__image-wrapper self-center"},ue=["src","alt"],me={key:1,class:"user__image-wrapper"},pe={__name:"UserAvatar",props:{size:{type:Number,default:256}},setup(l){const o=I().props.auth.user,t=l;return(c,u)=>{const r=v("VaIcon");return d(),m("div",le,[e("div",ce,[e("div",ie,[n(o).avatar_path?(d(),m("div",de,[e("a",{class:"",href:"#",onClick:u[0]||(u[0]=b(i=>{var p;return(p=c.$refs.avatar_load)==null?void 0:p.click()},["prevent"]))},[e("img",{class:"user__image",src:`/storage/${n(o).avatar_path}`,alt:n(o).name},null,8,ue)])])):(d(),m("div",me,[e("a",{class:"",href:"#",onClick:u[1]||(u[1]=b(i=>c.$refs.avatar_load.click(),["prevent"]))},[s(r,{class:"user__image",name:"account_circle",size:t.size},null,8,["size"])])]))])])])}}},_e=C(pe,[["__scopeId","data-v-bc9c025c"]]),fe={class:"profile-card"},ve={class:"profile-card__user-info-container"},he={class:"profile-card__user-id"},we={__name:"UserProfileCard",props:{isShowAvatar:{type:Boolean,default:!0},userNameStyle:{type:String,default:""},userIdStyle:{type:String,default:""}},setup(l){const o=I().props.auth.user;return(t,c)=>(d(),m("div",fe,[l.isShowAvatar?(d(),A(_e,{key:0})):M("",!0),e("div",ve,[e("b",{class:B(["profile-card__user-name",l.userNameStyle])},S(n(o).name),3),e("p",he,"@"+S(n(o).username),1)])]))}},ye=C(we,[["__scopeId","data-v-f3ec438e"]]),ge=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Profile Information"),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Update your account's profile information and email address. ")],-1),Ve={class:"flex items-center gap-4"},$e={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(l){const a=I().props.auth.user,o=F({name:a.name,email:a.email}),t=async()=>{try{const c=new FormData;c.append("name",o.name),c.append("email",o.email),c.append("_method","patch");const r=(await axios.post("/profile",c)).data;a.name=r.name,a.email=r.email}catch(c){console.error(c)}};return(c,u)=>(d(),m("section",null,[ge,e("form",{id:"updateProfileForm",onSubmit:b(t,["prevent"]),class:"mt-6 space-y-6"},[e("div",null,[s(x,{for:"name",value:"Name"}),s(k,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:n(o).name,"onUpdate:modelValue":u[0]||(u[0]=r=>n(o).name=r),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),e("div",null,[s(x,{for:"email",value:"Email"}),s(k,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:n(o).email,"onUpdate:modelValue":u[1]||(u[1]=r=>n(o).email=r),required:"",autocomplete:"username"},null,8,["modelValue"])]),e("div",Ve,[s(j,null,{default:_(()=>[$("Save")]),_:1})])],32)]))}},be=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Update Password"),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Ensure your account is using a long, random password to stay secure. ")],-1),xe={class:"flex items-center gap-4"},ke={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},Se={__name:"UpdatePasswordForm",setup(l){const a=y(null),o=y(null),t=F({current_password:"",password:"",password_confirmation:""}),c=()=>{t.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>t.reset(),onError:()=>{t.errors.password&&(t.reset("password","password_confirmation"),a.value.focus()),t.errors.current_password&&(t.reset("current_password"),o.value.focus())}})};return(u,r)=>(d(),m("section",null,[be,e("form",{onSubmit:b(c,["prevent"]),class:"mt-6 space-y-6"},[e("div",null,[s(x,{for:"current_password",value:"Current Password"}),s(k,{id:"current_password",ref_key:"currentPasswordInput",ref:o,modelValue:n(t).current_password,"onUpdate:modelValue":r[0]||(r[0]=i=>n(t).current_password=i),type:"password",class:"mt-1 block w-full",autocomplete:"current-password"},null,8,["modelValue"]),s(D,{message:n(t).errors.current_password,class:"mt-2"},null,8,["message"])]),e("div",null,[s(x,{for:"password",value:"New Password"}),s(k,{id:"password",ref_key:"passwordInput",ref:a,modelValue:n(t).password,"onUpdate:modelValue":r[1]||(r[1]=i=>n(t).password=i),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),s(D,{message:n(t).errors.password,class:"mt-2"},null,8,["message"])]),e("div",null,[s(x,{for:"password_confirmation",value:"Confirm Password"}),s(k,{id:"password_confirmation",modelValue:n(t).password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=i=>n(t).password_confirmation=i),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),s(D,{message:n(t).errors.password_confirmation,class:"mt-2"},null,8,["message"])]),e("div",xe,[s(j,{disabled:n(t).processing},{default:_(()=>[$("Save")]),_:1},8,["disabled"]),s(J,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:_(()=>[n(t).recentlySuccessful?(d(),m("p",ke,"Saved.")):M("",!0)]),_:1})])],32)]))}},Ie={class:"space-y-6"},Ce=e("header",null,[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Delete Account"),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain. ")],-1),Ue={class:"p-6"},Pe=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Are you sure you want to delete your account? ",-1),De=e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. ",-1),Be={class:"mt-6"},Ae={class:"mt-6 flex justify-end"},Fe={__name:"DeleteUserForm",setup(l){const a=y(!1),o=y(null),t=F({password:""}),c=()=>{a.value=!0,X(()=>o.value.focus())},u=()=>{t.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>r(),onError:()=>o.value.focus(),onFinish:()=>t.reset()})},r=()=>{a.value=!1,t.reset()};return(i,p)=>(d(),m("section",Ie,[Ce,s(O,{onClick:c},{default:_(()=>[$("Delete Account")]),_:1}),s(ne,{show:a.value,onClose:r},{default:_(()=>[e("div",Ue,[Pe,De,e("div",Be,[s(x,{for:"password",value:"Password",class:"sr-only"}),s(k,{id:"password",ref_key:"passwordInput",ref:o,modelValue:n(t).password,"onUpdate:modelValue":p[0]||(p[0]=h=>n(t).password=h),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",onKeyup:W(u,["enter"])},null,8,["modelValue"]),s(D,{message:n(t).errors.password,class:"mt-2"},null,8,["message"])]),e("div",Ae,[s(re,{onClick:r},{default:_(()=>[$(" Cancel ")]),_:1}),s(O,{class:B(["ms-3",{"opacity-25":n(t).processing}]),disabled:n(t).processing,onClick:u},{default:_(()=>[$(" Delete Account ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]))}},R=l=>(z("data-v-c151e3df"),l=l(),T(),l),Ne={class:""},Me=R(()=>e("div",{class:"flex items-center mb-4"},[e("h3",{class:"text-xl mr-4"},"Update Avatar")],-1)),ze={class:"mb-4"},Te={key:0,class:"user__image-wrapper"},qe=["src","alt"],Ee={key:1,class:"user__image-wrapper"},Le={hidden:"",class:""},Oe={class:"description"},je=R(()=>e("h3",{class:"mb-2"},"Description",-1)),Re={__name:"UpdateUserAvatarForm",props:{user:{type:Object,required:!1}},setup(l){const a=I().props.auth.user,o=F({description:a.description}),t=y(!1),c=async r=>{try{t.value=!0;let i=r.target.files[0];const p=new FormData;p.append("avatar_path",i),p.append("description",o.description),p.append("_method","patch");const w=(await axios.post("/profile",p)).data;a.description=w.description,a.avatar_path=w.avatar_path,t.value=!1}catch(i){console.error(i)}},u=async()=>{try{t.value=!0;const r=new FormData;r.append("description",o.description),r.append("_method","patch");const p=(await axios.post("/profile",r)).data;a.description=p.description,t.value=!1}catch(r){console.error(r)}};return(r,i)=>{const p=v("VaIcon"),h=v("VaTextarea"),w=v("VaButton");return d(),m("div",Ne,[Me,e("div",null,[e("div",ze,[n(a).avatar_path?(d(),m("div",Te,[e("a",{class:"",href:"#",onClick:i[0]||(i[0]=b(U=>this.$refs.avatar_load.click(),["prevent"]))},[e("img",{class:"user__image",src:`/storage/${n(a).avatar_path}`,alt:n(a).name},null,8,qe)])])):(d(),m("div",Ee,[e("a",{class:"",href:"#",onClick:i[1]||(i[1]=b(U=>this.$refs.avatar_load.click(),["prevent"]))},[s(p,{class:"user__image",name:"account_circle",size:100})])])),e("div",Le,[e("input",{onChange:c,ref:"avatar_load",type:"file"},null,544)])])]),e("div",Oe,[je,s(h,{class:"w-full mb-4",modelValue:n(o).description,"onUpdate:modelValue":i[2]||(i[2]=U=>n(o).description=U)},null,8,["modelValue"]),s(w,{onClick:u,loading:t.value},{default:_(()=>[$("Save Description")]),_:1},8,["loading"])])])}}},Ke=C(Re,[["__scopeId","data-v-c151e3df"]]),Ge={__name:"UserProfileModalForm",setup(l){const a=()=>{console.log(231312)};return I().props.auth.user,(o,t)=>{const c=v("VaModal");return d(),A(c,{onOk:a,"ok-text":"Apply",blur:"","max-width":"650px","max-height":"800px"},{default:_(()=>[s(Ke,{size:256,class:"mb-8"}),s($e,{class:"mb-8"}),s(Se,{class:"mb-8"}),s(Fe,{class:"mb-8"})]),_:1})}}},Qe={key:0,class:"item-item__img-container"},He=["src"],Je={key:1,class:"item-item__img-container"},We={class:"item-item__content"},Xe={class:"item-item__title"},Ye={class:"item-item__last-message"},Ze={__name:"Item",props:{item:{type:Object,default:{}},route_name:{type:String,required:!0}},setup(l){return(a,o)=>{const t=v("VaIcon");return d(),A(n(Y),{href:a.route(l.route_name,{id:l.item.id}),class:"item-item"},{default:_(()=>[l.item.avatar_path?(d(),m("div",Qe,[e("img",{class:"item-item__img",src:`/storage/${l.item.avatar_path}`,alt:""},null,8,He)])):(d(),m("div",Je,[s(t,{class:"item-item__img",size:80,color:"#ffffff",name:"account_circle"})])),e("div",We,[e("span",Xe,S(l.item.name),1),e("p",Ye,S(l.item.last_message),1)])]),_:1},8,["href"])}}},et=C(Ze,[["__scopeId","data-v-4fec1890"]]),tt=l=>(z("data-v-c2ff55eb"),l=l(),T(),l),st={class:"item-menu"},at={class:"search-input"},ot={key:0,class:"search-input__not-found text-center"},rt=tt(()=>e("span",{class:"text-center w-full"},"Items Not Found",-1)),nt=[rt],lt={__name:"ItemMenu",props:{items:{type:Array,default:[]},route_name:{type:String,required:!0}},setup(l){const a=l,{items:o,route_name:t}=Z(a),c=y(""),u=ee(()=>c.value.length<2?o.value:o.value.filter(r=>r.name.toLowerCase().includes(c.value.toLowerCase())));return(r,i)=>{const p=v("VaButton"),h=v("VaInput");return d(),m("div",st,[e("div",at,[s(h,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=w=>c.value=w),placeholder:"Search..."},{appendInner:_(()=>[s(p,{icon:"search",color:"Shadow","icon-color":"TextPrimary",round:""})]),_:1},8,["modelValue"])]),(d(!0),m(P,null,N(u.value,w=>(d(),A(et,{item:w,id:w.id,route_name:n(t)},null,8,["item","id","route_name"]))),256)),c.value&&!u.value.length?(d(),m("div",ot,nt)):M("",!0)])}}},ct=C(lt,[["__scopeId","data-v-c2ff55eb"]]),it=l=>(z("data-v-500f605e"),l=l(),T(),l),dt={class:"sidebar"},ut={class:"sidebar__bottom-btns-container"},mt={class:"sidebar__bottom-btn-item-text"},pt={class:""},_t=it(()=>e("div",{class:"author"}," Sergei Molotov - 2024 ",-1)),ft={__name:"PopUpMenu",props:{chats:{type:Array,default:[]}},setup(l){const a=y(!1),o=y(!1),t=y(0),c=y(null);I().props.auth.user.name;const r=ae(),i=oe(),p=[{icon:"question_answer",title:"Create Chat",route_name:"chat.create"},{icon:"logout",title:"Logout",route_name:"logout"}],h=[{id:0,icon:"people_alt",title:"Users",route_name:"user.chat.show",isRounded:!0,store:()=>r},{id:1,icon:"forum",title:"Chats",route_name:"chat.show",isRounded:!0,store:()=>i}],w=async()=>{const g=h[t.value].store();await g.setValue(),c.value=g.getValue},U=g=>{t.value=g};return te(t,w),se(async()=>{const g=h[t.value].store();await g.setValue(),c.value=g.getValue}),(g,V)=>{const q=v("VaButton"),K=v("VaNavbar"),E=v("VaSidebarItemContent"),L=v("VaSidebarItem"),G=v("VaIcon"),Q=v("VaSidebarItemTitle"),H=v("VaSidebar");return d(),m(P,null,[e("div",dt,[s(K,{class:"py-2 navbar"},{left:_(()=>[s(q,{color:(a.value,"transparent"),icon:a.value?"menu_open":"menu",onClick:V[0]||(V[0]=f=>a.value=!a.value)},null,8,["color","icon"])]),_:1}),s(H,{hidden:!a.value,modelValue:a.value,"onUpdate:modelValue":V[3]||(V[3]=f=>a.value=f),class:"sidebar__content"},{default:_(()=>[s(L,null,{default:_(()=>[s(E,null,{default:_(()=>[s(ye,{onClick:V[1]||(V[1]=f=>o.value=!o.value)}),s(Ge,{modelValue:o.value,"onUpdate:modelValue":V[2]||(V[2]=f=>o.value=f)},null,8,["modelValue"])]),_:1})]),_:1}),(d(),m(P,null,N(p,f=>s(L,{key:f.icon,href:g.route(f.route_name),method:"post",as:"button"},{default:_(()=>[s(E,null,{default:_(()=>[s(G,{name:f.icon},null,8,["name"]),s(Q,null,{default:_(()=>[$(S(f.title),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"])),64))]),_:1},8,["hidden","modelValue"]),e("div",{class:B(["sidebar__bottom-menu",{"sidebar__bottom-menu-none":a.value}])},[e("div",ut,[(d(),m(P,null,N(h,f=>e("div",{class:B([{"btn-active":f.id===t.value},"sidebar__bottom-btn-item"])},[s(q,{onClick:b(vt=>U(f.id),["prevent"]),icon:f.icon,round:f.isRounded},null,8,["onClick","icon","round"]),e("p",mt,S(f.title),1)],2)),64))])],2)]),e("div",pt,[s(ct,{items:c.value,route_name:h[t.value].route_name},null,8,["items","route_name"])]),_t],64)}}},bt=C(ft,[["__scopeId","data-v-500f605e"]]);export{bt as S};
