import{M as p}from"./MainLayout-DmuTQOJ8.js";import{U as h,M as g,I as f}from"./MessageChatBox-yMWvHHEd.js";import{k as x,l as v,o as _,f as i,b as t,a as r,w as b,t as y,p as M,q as w,Q as I,F as S,y as V,u as $}from"./app-DHQYfRVv.js";import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BJZF4jIJ.js";import"./PopUpMenu.vue_vue_type_style_index_0_scoped_500f605e_lang-BYLRUEG6.js";import"./PopUpMenu-m3jJ8RSt.js";import"./TextInput-C-R2MJMg.js";import"./PrimaryButton-DK6nsFC-.js";import"./SecondaryButton-CLv16ZDj.js";const k=s=>(M("data-v-7107b96b"),s=s(),w(),s),B={class:"user-chat-box__avatar"},C=["src"],U={class:"user-chat-box__content"},A={class:"user-chat-box__name"},F=k(()=>t("div",{class:"user-chat-box__last_online"},[t("span",null,"was online 16hrs ago")],-1)),L={__name:"UserChatBox",props:{user_to:{Array,default:[]}},setup(s){const a=x(!1);return(o,e)=>{const l=v("VaModal");return _(),i("div",{class:"user-chat-box",onClick:e[1]||(e[1]=n=>a.value=!a.value)},[t("div",B,[t("img",{class:"user-chat-box__image",src:`/storage/${s.user_to.avatar_path}`,alt:"",srcset:""},null,8,C)]),r(l,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value=n),"ok-text":"Apply",blur:"","max-width":"650px","max-height":"800px"},{default:b(()=>[r(h,{user:s.user_to},null,8,["user"])]),_:1},8,["modelValue"]),t("div",U,[t("div",A,y(s.user_to.name),1),F])])}}},N=m(L,[["__scopeId","data-v-7107b96b"]]),j={class:"chat__container dark:bg-gray-800"},q={class:"chat__messages-container"},D={class:"chat__messages"},E=Object.assign({layout:p},{__name:"Show",props:{user_to:{type:Array,default:[]},messages:{type:Array,default:[]}},setup(s){const o=I().props.auth.user,e=s,l=async c=>{const d=await axios.post(`/users/${e.user_to.id}/chat`,{user_id_from:o.id,content:c});console.log(d)},n=c=>c.user_id_from===o.id?o:e.user_to;return(c,d)=>(_(),i("div",j,[r(N,{user_to:s.user_to},null,8,["user_to"]),t("div",q,[(_(!0),i(S,null,V(s.messages,u=>(_(),i("div",D,[r(g,{message:u,user:n(u),user_to:s.user_to,"is-yours":u.user_id_from===$(o).id,id:u.id,class:"chat__message-item"},null,8,["message","user","user_to","is-yours","id"])]))),256)),r(f,{class:"chat__input-message",onMessageSend:l})])]))}}),W=m(E,[["__scopeId","data-v-423dde66"]]);export{W as default};
